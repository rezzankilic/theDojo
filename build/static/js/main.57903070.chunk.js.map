{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","hooks/useFirestore.js","pages/create/Create.js","pages/dashboard/ProjectFilter.js","componenets/Avatar.js","componenets/ProjectList.js","pages/dashboard/Dashboard.js","pages/login/Login.js","hooks/useLogin.js","hooks/useDocument.js","pages/project/ProjectComments.js","pages/project/ProjectSummary.js","pages/project/Project.js","pages/signup/Signup.js","hooks/useSignup.js","hooks/useLogout.js","assets/temple.svg","componenets/Navbar.js","assets/add_icon.svg","assets/dashboard_icon.svg","componenets/Sidebar.js","componenets/OnlineUser.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","initialState","document","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","navigate","useNavigate","users","setUsers","formError","setFormError","name","setName","details","setDetails","dueDate","setDueDate","catagory","setCategory","assignedUsers","setAssignedUsers","options","map","displayName","handleSubmit","e","preventDefault","length","createdBy","photoURL","uid","assignedUsersList","u","project","comments","className","onSubmit","required","onChange","target","option","isMulti","filterList","ProjectFilter","currentFilter","changeFilter","f","onClick","Avatar","src","alt","ProjectList","projects","to","toDate","toDateString","Dashboard","setCurrentFilter","filter","assignedToMe","newFilter","Signup","email","setEmail","password","setPasword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","ProjectComments","newComment","setNewComment","commentToAdd","phototURL","content","Math","random","comment","formatDistanceToNow","addSuffix","ProjectSummary","handleClick","Project","setDocument","err","useDocument","useParams","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgURL","updateProfile","set","useSignup","selected","files","includes","size","Navbar","logout","a","signOut","useLogout","Temple","disabled","Sidebar","DashboardIcon","AddICon","OnlineUser","App","exact","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.57903070.chunk.js","sourcesContent":["import 'firebase/firestore'\nimport 'firebase/auth'\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAcsHXTypAemSdQYA6CdIHfeamIZgE8MFo\",\n    authDomain: \"thedojosite-60698.firebaseapp.com\",\n    projectId: \"thedojosite-60698\",\n    storageBucket: \"thedojosite-60698.appspot.com\",\n    messagingSenderId: \"377248767188\",\n    appId: \"1:377248767188:web:efc5facf4d80ce5be86f41\"\n  };\n\n  //init firebase\nfirebase.initializeApp(firebaseConfig)\n\n//init firestore\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\nconst projectStorage = firebase.storage()\n\n//time stamp\nconst timestamp = firebase.firestore.Timestamp\n\nexport {projectFirestore, projectAuth, projectStorage, timestamp}\n\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'UPDATED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  //update document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type:'IS_PENDING'})\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({type: 'UPDATED_DOCUMENT', payload: updatedDocument})\n      return updatedDocument\n\n    }\n    catch(err) {\n      dispatchIfNotCancelled({type: 'ERROR', payload: err.message})\n      return null\n    }\n\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n\n}\n","import React, { useEffect, useState } from 'react'\nimport { useCollection } from '../../hooks/useCollection'\nimport Select from 'react-select'\nimport { timestamp } from '../../firebase/config'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useFirestore } from '../../hooks/useFirestore'\n//style\nimport './Create.css'\nimport { useNavigate } from 'react-router-dom'\n\n\nconst categories = [\n    { value: 'development' , label: 'Development'},\n    { value: 'design', label:'Design'},\n    { value: 'sales', label:'Sales'},\n    { value: 'marketing', label:'Marketing'},\n]\n\n\n\n\n\n\nexport default function Create() {\n    const navigate = useNavigate()\n    const {addDocument, response} = useFirestore('projects')\n\n    const {documents, error} = useCollection('users')\n    const [users, setUsers] = useState([])\n    const [formError, setFormError] = useState(null)\n    const {user} = useAuthContext()\n\n\n\n\n    const[name, setName] = useState('')\n    const[details, setDetails] = useState('')\n    const[dueDate, setDueDate] = useState('')\n    const[catagory, setCategory] =useState('')\n    const[assignedUsers, setAssignedUsers] = useState([])\n\n    useEffect(() => {\n        if(documents) {\n            const options = documents.map(user => {\n                return {value: user, label: user.displayName}\n            })\n            setUsers(options)\n        }\n\n    }, [documents])\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        setFormError(null)\n        // documents.collection('users').doc('project').add(e)\n        if (!catagory) {\n            setFormError('Please select project catagory.')\n            return\n        }\n        if (assignedUsers.length < 1) {\n            setFormError('Please assign project to a person.')\n            return\n        }\n\n        const createdBy = {\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            id: user.uid\n        }\n\n        const assignedUsersList = assignedUsers.map((u) => {\n            return {\n                displayName: u.value.displayName,\n                photoURL: u.value.photoURL,\n                id: u.value.id\n            }\n        })\n\n        const project = {\n            name,\n            details,\n            catagory: catagory.value,\n            dueDate: timestamp.fromDate(new Date(dueDate)),\n            comments: [],\n            createdBy,\n            assignedUsersList\n\n        }\n\n        await addDocument(project)\n        if (!response.error) {\n            navigate('/')\n            \n        }\n\n        \n    } \n\n    \n\n\n  return (\n    <div className='create-form'>\n        <h2 className='page-title'>Create a new project</h2>\n        <form onSubmit={handleSubmit}>\n            <label>\n                <span>Project Name:</span>\n                <input\n                required\n                type='text'\n                onChange={(e) => {setName(e.target.value)}}\n                value = {name}\n                />\n            </label>\n            <label>\n                <span>Project Details:</span>\n                <textarea\n                required\n                type='text'\n                onChange={(e) => {setDetails(e.target.value)}}\n                value = {details}\n                ></textarea>\n            </label>\n            <label>\n                <span>Set due date:</span>\n                <input\n                required\n                type = 'date'\n                onChange={(e) => {setDueDate(e.target.value)}}\n                value = {dueDate}\n                />\n            </label>\n            <label>\n                <span>Select Category:</span>\n                <Select\n                onChange={(option) => setCategory(option) }\n                options={categories}\n                />\n            </label>\n\n            <label>\n                <span>Set assignment:</span>\n                <Select\n                onChange={(option) => setAssignedUsers(option)}\n                options={users}\n                isMulti\n                />\n                \n            </label>\n            <button className='btn'>Add Project</button>\n\n            {formError && <p className='error'>{formError}</p>}\n            {error && <p className='error'>{error}</p>}\n        \n        </form>\n    </div>\n  )\n}\n","import React from 'react'\nimport Dashboard from './Dashboard'\n//style\nimport './Dashboard.css'\n\n\nconst filterList = ['all', 'mine', 'development', 'design', 'marketing', 'sales']\n\nexport default function ProjectFilter({currentFilter, changeFilter}) {\n\n    const handleClick = (newFilter) => {\n        changeFilter(newFilter)\n        \n    }\n  return (\n    <div className='project-filter'>\n        <nav>\n            Filter by:\n            {filterList.map((f) => (\n                <button key={f} \n                onClick={() => handleClick(f)}\n                className={currentFilter === f ? 'active' : ''}\n                >\n                    {f}\n                </button>\n            ))}\n        </nav>\n\n    </div>\n  )\n}\n","\n\n//styles\nimport './Avatar.css'\n\nimport React from 'react'\n\nexport default function Avatar({ src }) {\n  return (\n    <div className='avatar'>\n    <img src={src} alt='user avatar' />\n    </div>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Avatar from './Avatar'\n\n//styles\nimport './ProjectList.css'\n\n\n\nexport default function ProjectList({projects}) {\n\n  return (\n    <div className='project-list'>\n        {projects.length === 0 && <p>No projects yet</p>}\n        {projects.map((doc) => (\n           <Link key={doc.id} to={`/project/${doc.id}`} > \n           <h4>{doc.name}</h4>\n           <p> Due by {doc.dueDate.toDate().toDateString()} </p>\n           <div className='assigned-to'>\n            <ul>\n            {doc.assignedUsersList.map((user) => (\n            <li key={user.photoURL}>\n                <Avatar src={user.photoURL}/>\n                {user.displayName}\n            </li>\n           ))}\n            </ul>\n           </div>\n           </Link> \n        ))}\n    </div>\n  )\n}\n\n","import React from 'react'\nimport { useCollection } from '../../hooks/useCollection'\nimport { useState } from 'react'\nimport { useAuthContext } from '../../hooks/useAuthContext'\n\n//styles\n\nimport './Dashboard.css'\nimport ProjectFilter from './ProjectFilter'\nimport ProjectList from '../../componenets/ProjectList'\n\n\n\nexport default function Dashboard() {\n  const {documents, error} = useCollection('projects')\n  const [currentFilter, setCurrentFilter] = useState('all')\n  const {user} = useAuthContext()\n\n  const changeFilter = (newFilter) => {\n    setCurrentFilter(newFilter)\n  }\n\n  const projects = documents ? documents.filter((document) => {\n    switch (currentFilter){\n      case 'all':\n        return true\n      case 'mine':\n        let assignedToMe = false\n        document.assignedUsersList.forEach((u) => {\n          if (user.uid === u.id) {\n            assignedToMe = true\n          }\n        })\n        return assignedToMe\n      case 'development':\n      case 'design':\n      case 'sales':\n      case 'marketing':\n        return document.catagory === currentFilter \n      default:\n        return true\n        \n    }\n  }) : null\n\n  return (\n    <div>\n      <h2 className='page-title'></h2>\n      {error && <p className='error'>{error}</p>}\n      {documents && \n      <ProjectFilter currentFilter={currentFilter} changeFilter={changeFilter}/>\n      }\n      {projects && <ProjectList projects={projects} />}\n\n    </div>\n  )\n}\n","\nimport React from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n//style\nimport './Login.css'\nimport { useState } from 'react'\n\n\nexport default function Signup() {\n  const[email, setEmail] = useState('')\n  const[password, setPasword] = useState('')\n  const {login, isPending, error} = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n  \nreturn (\n  <div>\n      <form className=\"auth-form\" onSubmit={handleSubmit}>\n          <h2>Login</h2>\n          <label>\n              <span> Email </span>\n              <input\n              required\n              type=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              />\n          </label>\n          <label>\n              <span> Password </span>\n              <input\n              required\n              type=\"password\"\n              onChange={(e) => setPasword(e.target.value)}\n              value={password}\n              />\n          </label>\n          \n          {!isPending && <button className='btn'> Login </button>}\n          {error && <div className='error'>{error}</div>}\n\n      </form>\n\n  </div>\n)\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch} = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n\n      //update state in firestore\n      await projectFirestore.collection('users').doc(res.user.uid).update({online:true})\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      \n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useEffect, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useDocument = (collection, id) => {\n    const [document, setDocument] = useState(null)\n    const [error, setError] = useState(null)\n\n    //realtim data for document\n    useEffect(() => {\n        const ref = projectFirestore.collection(collection).doc(id)\n\n\n\n        const unsubscribe = ref.onSnapshot((snapshot)=>{\n            if (snapshot.data()) {\n                setDocument({...snapshot.data(), id: snapshot.id})\n                setError(null)\n            } else {\n                setError('no document exist')\n            }\n\n\n            \n        }, (err) => {\n            console.log(err.message)\n            setError('Failed to get document')\n        })\n        return() => unsubscribe()\n\n    }, [collection, id])\n\n    return {document, error}\n}","import React from 'react'\nimport { useState } from 'react'\nimport Avatar from '../../componenets/Avatar'\nimport { timestamp } from '../../firebase/config'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\n\n//style\nimport './Project.css'\n\n\n\nexport default function ProjectComments({project}) {\n    const {updateDocument, response} = useFirestore('projects')\n    const [newComment, setNewComment] = useState('')\n    const { user } = useAuthContext()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        const commentToAdd = {\n            displayName: user.displayName,\n            phototURL: user.photoURL,\n            content: newComment,\n            createdAt: timestamp.fromDate(new Date()),\n            id: Math.random()\n        }\n\n        await updateDocument(project.id, {\n            comments: [...project.comments, commentToAdd]\n        })\n        if(!response.error) {\n            setNewComment('')\n        }\n        console.log(newComment)\n    }\n\n\n  return (\n    <div className='project-comments'>\n        <h4>Project Comments</h4>\n\n        <ul>\n        {project.comments.length > 0 && project.comments.map(comment => (\n          <li key={comment.id}>\n            <div className=\"comment-author\">\n              <Avatar src={comment.photoURL} />\n              <p>{comment.displayName}</p>\n            </div>\n            <div className=\"comment-date\">\n              <p>{formatDistanceToNow(comment.createdAt.toDate(), {addSuffix: true})}</p>\n            </div>\n            <div className=\"comment-content\">\n              <p>{comment.content}</p>\n            </div>\n          </li>\n        ))}\n      </ul>\n\n        <form className='add-comment' onSubmit={handleSubmit}>\n            <label>\n                <span>Add New Comments</span>\n                <textarea\n                    required\n                    onChange={(e) => setNewComment(e.target.value) }\n                    value={newComment}\n                />\n            </label>\n            <button className='btn'>Add</button>\n        </form>\n\n    </div>\n  )\n}\n","import React from 'react'\nimport Avatar from '../../componenets/Avatar'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useNavigate } from 'react-router-dom'\n\n//styles\nimport './Project.css'\n\n\n\nexport default function ProjectSummary({project}) {\n    const {deleteDocument, response} = useFirestore('projects')\n    const {user} = useAuthContext()\n    const navigate = useNavigate()\n\n    const handleClick = async(e) => {\n        e.preventDefault();\n        deleteDocument(project.id)\n        navigate('/')\n    }\n\n\n  return (\n    <div>\n        <div className='project-summary'> \n            <h2 className='page-title'>{project.name}</h2>\n            <p>Created by {project.createdBy.displayName}</p>\n            <p className='due-date'>\n                Project due date {project.dueDate.toDate().toDateString()}\n            </p>\n            <p className='details'>\n                {project.details}\n            </p>\n            <h4 >Project is assigned to:</h4>\n            <div className='assigned-users'>\n                {project.assignedUsersList.map((user) => (\n                    <div key={user.id}> \n                        <Avatar src={user.photoURL}/>\n                        <div className='user-name'>\n                            {user.displayName}\n                        </div>\n                    </div>\n                ))}\n            </div>\n            {project.createdBy.id === user.uid && (\n            <button className='btn' onClick={handleClick}>Mark as complete</button>)}\n        </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useDocument } from '../../hooks/useDocument'\n//style\nimport './Project.css'\nimport ProjectComments from './ProjectComments'\nimport ProjectSummary from './ProjectSummary'\n\n\n\nexport default function Project() {\n    const { id } = useParams()\n    const { document, error} = useDocument('projects', id )\n\n    if (error) {\n        return <div className='error'>{error}</div>\n    }\n    if (!document) {\n        return <div className='loading'>Loading...</div>\n    }\n\n\n  return (\n    <div className='project-details'>\n        \n       <ProjectSummary project={document}/>\n       <ProjectComments project={document} />\n\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n//style\nimport './Signup.css'\n\n\n\nexport default function Signup() {\n\n    const[email, setEmail] = useState('')\n    const[password, setPasword] = useState('')\n    const[displayName, setDisplayName] = useState('')\n    const [thumbnail, setThumbnail] = useState(null)\n    const [thumbnailError, setThumbnailError] = useState(null)\n    const { signup, isPending, error } = useSignup()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        signup(email, password, displayName, thumbnail)\n    }\n\n    const handleFileChange = (e) => {\n        setThumbnail(null)\n        let selected = e.target.files[0]\n        console.log(selected)\n\n        if (!selected) {\n            setThumbnailError('please select a file')\n            return\n        }\n        if (!selected.type.includes('image')){\n            setThumbnailError('selected file must be an image')\n            return\n        }\n        if (selected.size > 100000) {\n            setThumbnailError('image file size must be smaller than 100kb')\n            return\n        }\n        setThumbnailError(null)\n        setThumbnail(selected)\n        console.log('thumbnail updated')\n\n\n    }\n  return (\n    <div>\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n            <h2>Sign Up</h2>\n            <label>\n                <span> Email </span>\n                <input\n                required\n                type=\"email\"\n                onChange={(e) => setEmail(e.target.value)}\n                value={email}\n                />\n            </label>\n            <label>\n                <span> Password </span>\n                <input\n                required\n                type=\"password\"\n                onChange={(e) => setPasword(e.target.value)}\n                value={password}\n                />\n            </label>\n            <label>\n                <span> display name:</span>\n                <input\n                required\n                type=\"text\"\n                onChange={(e) => setDisplayName(e.target.value)}\n                value={displayName}\n                />\n            </label>\n            <label>\n                <span> profile thumbnail: </span>\n                <input\n                required\n                type=\"file\"\n                onChange={handleFileChange}\n                />\n                {thumbnailError && <div className='error'>{thumbnailError}</div>}\n            </label>\n            {!isPending && <button className='btn'> Sign Up </button>}\n            {error && <div className='error'>{error}</div>}\n\n        </form>\n\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth, projectStorage, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n      //upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      const imgURL = await img.ref.getDownloadURL()\n\n      // add display name and photoUrl to user\n      await res.user.updateProfile({ displayName, photoURL: imgURL})\n\n      //create a user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL:imgURL\n      })\n\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { signup, error, isPending }\n}","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // update online status\n      const {uid} = user \n      await projectFirestore.collection('users').doc(uid).update({online:false})\n\n      // sign the user out\n      await projectAuth.signOut()\n      \n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      } \n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {useLogout} from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n//styles & images\nimport './Navbar.css'\nimport Temple from '../assets/temple.svg'\n\n\nexport default function Navbar() {\n  const {logout, isPending} = useLogout()\n  const { user } = useAuthContext() \n\n  return (\n    <div className='navbar'>\n        <ul>\n            <li className='logo'>\n                <img src={Temple} alt='dojo logo'></img>\n                <span>Dojo</span>\n            </li>\n            {!user && <li><Link to='/login'>Login</Link></li>}\n            {!user && <li><Link to='/signup'>Signup</Link></li>}\n            {user && \n            <li>\n                {!isPending && <button className='btn' onClick={logout}>Logout</button>}\n                {isPending && <button className='btn' disabled>Logging out</button>}\n\n            </li>\n}\n        </ul>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n//styles & images\nimport './Sidebar.css'\nimport AddICon from '../assets/add_icon.svg'\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport Avatar from './Avatar'\n\n\n\nexport default function Sidebar() {\n    const {user} = useAuthContext()\n\n\n  return (\n    <div className='sidebar'>\n        <div className='sidebar-content'>\n            <div className='user'>\n                <Avatar src={user.photoURL} />\n                <p>Hey, {user.displayName}</p>\n            </div>\n            <nav className='links'>\n                <ul>\n                    <li>\n                        <NavLink to='/'>\n                            <img src={DashboardIcon} alt='dashboard image'/>\n                            <span>Dashboard</span>\n                        </NavLink>\n                    </li>\n                    <li>\n                        <NavLink to='/create'>\n                            <img src={AddICon} alt='add project icon'/>\n                            <span>New Project</span>\n                        </NavLink>\n                    </li>\n                </ul>\n            </nav>\n        </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useCollection } from '../hooks/useCollection'\nimport Avatar from './Avatar'\n\n\n//style\nimport './OnlineUser.css'\n\n\n\n\nexport default function OnlineUser() {\n    const {documents, error} = useCollection('users')\n\n\n  return (\n    <div className='user-list'>\n        <h2>All Users</h2>\n                {error && <div className='error'>{error}</div>}\n                {documents && documents.map((user)=>(\n                    <>\n                    <div key={user.id} className='user-list-item'>\n                    {user.online && <span className='online-user'> </span>}\n                    <span>{user.displayName}</span>\n                    <Avatar src={user.photoURL}/>\n                    </div>\n                    </>\n                ))}\n    </div>\n  )\n}\n","import {BrowserRouter, Routes, Route, Navigate} from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext';\n\n//style\nimport './App.css'\n\n//pages and component\nimport Create from './pages/create/Create';\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Login from './pages/login/Login';\nimport Project from './pages/project/Project';\nimport Signup from './pages/signup/Signup';\nimport Navbar from './componenets/Navbar';\nimport Sidebar from './componenets/Sidebar';\nimport OnlineUser from './componenets/OnlineUser';\n\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext()\n  return (\n    <div className=\"App\">\n      {authIsReady && ( \n        <BrowserRouter>\n        \n        {user && <Sidebar/>}\n        <div className = \"container\">\n          <Navbar/>\n          <Routes>\n            <Route exact path='/' element={\n            user ? (<Dashboard/>) : (<Navigate to= '/login' />)\n            } />\n\n            <Route path='/create' element={\n            user ? (<Create/>) : (<Navigate to='/login' />)\n            } />\n\n            <Route path='/project/:id' element={\n            user ? (<Project/>) : (<Navigate to='/login' />)\n            } />\n            \n            <Route path='/login' element={\n            user ? (<Navigate to='/' />) : (<Login/>) \n            } />\n            \n            <Route path='/signup' element={\n            user ? (<Navigate to='/login' />) : (<Signup/>)\n            } />\n          </Routes>\n        </div>\n        {user && <OnlineUser />}\n        </BrowserRouter>\n      )}\n\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {AuthContextProvider} from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n     <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}